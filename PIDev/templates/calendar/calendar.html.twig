{% extends 'baseB.html.twig' %}

{% block body %}
    <h1>Emplois du temps</h1>

    <link href="path/to/bootstrap.min.css" rel="stylesheet">
    <link href="path/to/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fullcalendar@5.3.0/main.min.css" integrity="sha256-uq9PNlMzB+1h01Ij9cx7zeE2OR2pLAfRw3uUUOOPKdA=" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.3.0/main.min.js" integrity="sha256-DBxkGZLxKsLKhz054qUpBqtotG00r9AELGpSigJujLg=" crossorigin="anonymous"></script>
    <div id="calendrier"></div>

{% block javascripts %}
<script>
    document.addEventListener('DOMContentLoaded', function () {
        let calendarElt = document.querySelector("#calendrier");
        let calendar = new FullCalendar.Calendar(calendarElt, {
            allDaySlot: false,
            initialView: 'dayGridMonth',
            locale: 'fr',
            timeZone: 'Africa/Tunis',
            headerToolbar: {
                left: 'prev,next today',
                center: 'title',
                right: 'dayGridMonth,timeGridWeek,timeGridDay'
            },
            events: {{ data|raw }},
            eventContent: function (info) {
                let deleteButton = `<button class="btn btn-danger btn-sm custom-delete-button" data-event-id="${info.event.id}">
                                        <i class="bi bi-trash"></i> Delete
                                    </button>`;

                return {
                    html: `<div class="fc-content">
                            <div>${info.event.extendedProps.titre}</div>
                            <div>${info.event.extendedProps.description}</div>
                            <div>${deleteButton}</div>
                          </div>`,
                };
            },
            editable: true,
            eventResizableFromStart: true
        });

        // Your existing code for edit and delete events

        calendar.render();
    });
</script>
<!-- Your existing script and style links... -->
{% endblock %}

{% block stylesheets %}
<style>
    #calendrier {
        width: 80%; /* Adjust the width to your preference */
        margin: auto;
    }

    #calendrier .fc-header-toolbar .fc-button {
        background-color: #007bff;
        color: #fff;
        border-color: #007bff;
    }

    #calendrier .fc-header-toolbar .fc-button:hover {
        background-color: #0056b3;
        color: #fff;
        border-color: #0056b3;
    }

    #calendrier .fc-content {
        font-size: 1em;
        font-weight: bold;
        background-color: #007bff; /* Set the background color for the event */
        color: #fff; /* Set the text color for the event */
        padding: 5px;
        border-radius: 5px;
        text-align: center; /* Center the content within the event */
    }

    #calendrier .fc-description {
        font-size: 0.8em;
    }

    .custom-delete-button {
        background-color: red;
        color: #fff;
        border-color: red;
    }
</style>
{% endblock %}
{% block javascript %}
<!-- Your existing SweetAlert2 code -->
{% endblock %}
{% endblock %}
